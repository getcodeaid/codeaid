{"version":3,"sources":["app.js","createSnip.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["","var editor = ace.edit(\"editor\");\neditor.setTheme(\"ace/theme/monokai\");\n\nfunction getField(name)\n{\n    return $( \"#field-\" + name );\n}\n\nfunction showErrors(errors)\n{\n    var errorText;\n    var errorLocation = $( \"#errors\" );\n\n    errors = JSON.parse(errors);\n\n    console.log(errors);\n\n    $.each(errors, function(location, error){\n       errorText = \"<li>\" + error + \"</li>\";\n        errorLocation.append(errorText);\n    });\n\n    $('html, body').animate({ scrollTop: 0 }, 'slow');\n    errorLocation.fadeIn();\n\n}\n\n\n$( getField('language') ).change(function() {\n    var langSelect = $( getField('language') ).find('option:selected');\n    var aceName = langSelect.data('ace-name');\n    var languageId = langSelect.attr('value');\n    editor.getSession().setMode(\"ace/mode/\" + aceName);\n\n});\n\n$( '#snipcreatebutton' ).on('click', function(){\n    editor.setReadOnly(true);\n    $(this).prop('disabled', true);\n    $(this).html('<i class=\"fa fa-refresh fa-spin\"></i> Creating Snip...');\n\n    var submission = [];\n    submission['title'] = getField('title').val();\n    submission['message'] = getField('message').val();\n    submission['code'] = editor.getValue();\n    submission['category_id'] = getField('category').val();\n    submission['language_id'] = getField('language').val();\n    submission['_token'] =  $('input[name=_token]').val();\n\n    console.log(submission);\n\n    $.ajax({\n        url: '/s',\n        type: 'POST',\n        contentType: 'application/json',\n        data: {submission:submission},\n        headers: {\n            'X-CSRF-Token': $('input[name=_token]').val()\n        },\n        success: function(data, textStatus ){\n            var returnData = JSON.parse(data.responseText);\n            window.location.replace('/s/' + returnData.slug);\n        },\n        error: function(data, textStatus, errorThrown){\n            showErrors(data.responseText);\n        }\n    });\n});\n\n"],"sourceRoot":"/source/"}